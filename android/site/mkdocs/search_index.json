{
    "docs": [
        {
            "location": "/", 
            "text": "Locarta Android SDK\n\n\n\n\n\n\n\n\nLatest Version\n\n\nSize\n\n\nMinimal Android API verison\n\n\nRelease Date\n\n\n\n\n\n\n\n\n\n\n1.0.6\n\n\n415 KB\n\n\n7 (2.1  Eclair)\n\n\n23/08/2016\n\n\n\n\n\n\n\n\nSetup\n\n\n\n\n1) Declare dependencies\n\n\nOpen the \nbuild.gradle\n file of your project and update the repository and dependency blocks as follows:\n\n\n     repositories {\n        // ... other project repositories\n        maven { \n            url \nhttp://nexus.locarta.co/content/repositories/android-sdk/\n\n            credentials {\n               username = \n$YOUR_USERNAME$\n\n               password = \n$YOUR_PASSWORD$\n\n            }\n        }\n        // Repository will be provided separately \n     }\n     // ...\n     dependencies {\n        // ... other project dependencies\n        compile (\nco.locarta:locarta-sdk:$LOCARTA_SDK_VERSION$:pubProd@aar\n) {\n            transitive = true;\n        }\n     }\n\n\n\n\nWhere \n$YOUR_USERNAME$\n and \n$YOUR_PASSWORD$\n are the credentials to the nexus repository.\n\nThey match with the credentials you got to get access to this documentation\n.\n\n\n$LOCARTA_SDK_VERSION$\n is the SDK version number you wish to use.\nSync \nbuild.gradle\n, rebuild your project and import \nco.locarta.sdk.LocartaSDK\n into your app.\n\n\nWe advise to use \nhttps\n in the repository url (e.g. `https://nexus.locarta.co/..., we intentinally keep http to avoid certain problems with specific java versions.)\n\n\n2) Set Publisher Key\n\n\nAdd a \nmeta-data\n tag to the \nAndroidManifest.xml\n of your project:\n\n\n    \napplication\n\n        \n!-- other content --\n\n        \nmeta-data \n               android:name=\nco.locarta.sdk.pid\n \n               android:value=\nYOUR_PUBLISHER_ID\n /\n        \n    \n/application\n\n\n\n\n\nwhere \nYOUR_PUBLISHER_ID\n is your Locarta publisher id.\n\n\n3) Initialise SDK on App Start\n\n\nYou need to initialise the Locarta SDK only once \u2013 on app start:\n\n\n    // Add this line to the header of your file\n    import co.locarta.sdk.LocartaSdk;\n    public class SdkDemoApplication extends Application {\n        @Override\n        public void onCreate() {\n            super.onCreate();\n            // Initialise SDK on App creation\n            LocartaSdk.initialize(getApplicationContext());\n        }\n    }\n\n\n\n\n4) Obtain User Opt-In\n\n\nUser must opt in to Locarta's market research programme for the SDK to start working. This can be done either:\n\n\na) Via the default Locarta agreement dialog:\n\n\n    // Put this code somewhere in the main activities\n    LocartaSdk.showAgreementDialog(this);\n\n\n\n\nb) Via an API call (if your application has own agreement dialog or compliant terms and conditions):\n\n\n    LocartaSDK.setTermsAccepted(true);\n\n\n\n\nIf you want to check whether the user has opted in, call:\n\n\n    // The call returns true or false if user accepted terms or not\n    LocartaSDK.getTermsAccepted();        \n\n\n\n\nIf you want to stop SDK for some reason:\n\n\n   LocartaSdk.stop(context);\n\n\n\n\nIntegration Information\n\n\n\n\nBy default the host app \nshould not\n be setting any additional permissions in its manifest.\n\n\nThe set of minimal permissions embedded in the Locarta SDK is:\n\n\n\n\n\n\n\n\nPermission Name\n\n\nPlain English Name in App\n\n\nPlain German Name in App\n\n\n\n\n\n\n\n\n\n\nandroid.permission.INTERNET\n\n\nFull Network Access\n\n\nZugriff auf alle Netzwerke\n\n\n\n\n\n\nandroid.permission.ACCESS_COARSE_LOCATION\n\n\nApproximate Location\n\n\nUngef\u00e4hrer Standort\n\n\n\n\n\n\nandroid.permission.ACCESS_FINE_LOCATION\n\n\nPrecise Location\n\n\nGenauer Standort\n\n\n\n\n\n\nandroid.permission.ACCESS_NETWORK_STATE\n\n\nView Network Connections\n\n\nNetzwerkverbindungen abrufen\n\n\n\n\n\n\nandroid.permission.ACCESS_WIFI_STATE\n\n\nView Wifi Connections\n\n\nWLAN-Verbindungen abrufen\n\n\n\n\n\n\n\n\nProguard\n\n\nProguard rules are already configured for the Locarta SDK. No additional steps need to be taken in your application.\n\n\nPerformance Impact\n\n\nWe expect a battery impact of roughly 2-3%.\n\n\nNormally we use about 1MB/week of mobile data (depending on how long the phone is connected to wifi).\n\n\n3rd-Party Dependencies\n\n\nThe Locarta SDK should be implemented as a transitive @aar dependency. These are the 3rd-party dependencies it uses:\n\n\n\n\n\n\n\n\nDependency\n\n\nVersion\n\n\n\n\n\n\n\n\n\n\ncom.google.android.gms:play-services-location\n\n\n9.4.0\n\n\n\n\n\n\ncom.google.android.gms:play-services-gcm\n\n\n9.4.0\n\n\n\n\n\n\ncom.google.code.gson:gson\n\n\n2.7\n\n\n\n\n\n\ncom.squareup.retrofit2:retrofit\n\n\n2.1.0\n\n\n\n\n\n\ncom.squareup.retrofit2:converter-gson\n\n\n2.1.0\n\n\n\n\n\n\nde.greenrobot:eventbus\n\n\n3.0.0\n\n\n\n\n\n\ncom.google.dagger:dagger\n\n\n2.0\n\n\n\n\n\n\nch.hsr:geohash\n\n\n1.0.13\n\n\n\n\n\n\ncom.google.protobuf\n\n\n3.0.0-beta-3\n\n\n\n\n\n\norg.apache.commons:commons-io\n\n\n1.3.2\n\n\n\n\n\n\nio.protostuff:protostuff-json\n\n\n1.3.5\n\n\n\n\n\n\n\n\n\n\nTroubleshooting\n\n\nProguard\n\n\nIf you see the message: \nCan't find referenced class from the SDK\n, add these lines to your proguard configuration: \n\n\n-dontwarn co.pointwise.proto.JournalProto$.**\n-dontwarn com.google.common.base.Function\n-dontwarn com.google.common.collect.Lists\n\n\n\n\nDowngrading min SDK version to API v7\n\n\nTechnically the minimum API version for the SDK is already v7. However, it depends on Google Play Services, which requires minimum API v9. \n\n\nIf you get an error saying: \n\n\nManifest merger failed : uses-sdk:minSdkVersion 7 cannot be smaller than version 9 declared in library [com.google.android.gms:play-services-location:9.4.0] Suggestion: use tools:overrideLibrary=\ncom.google.android.gms\n to force usage\n\n\n\n\nThen add this line to the manifest of your application: \n\n\nuses-sdk tools:overrideLibrary=\ncom.google.android.gms, com.google.android.gms.base, com.google.android.gms.tasks, com.google.android.gms.gcm, com.google.android.gms.iid\n/", 
            "title": "Home"
        }, 
        {
            "location": "/#locarta-android-sdk", 
            "text": "Latest Version  Size  Minimal Android API verison  Release Date      1.0.6  415 KB  7 (2.1  Eclair)  23/08/2016", 
            "title": "Locarta Android SDK"
        }, 
        {
            "location": "/#setup", 
            "text": "", 
            "title": "Setup"
        }, 
        {
            "location": "/#1-declare-dependencies", 
            "text": "Open the  build.gradle  file of your project and update the repository and dependency blocks as follows:       repositories {\n        // ... other project repositories\n        maven { \n            url  http://nexus.locarta.co/content/repositories/android-sdk/ \n            credentials {\n               username =  $YOUR_USERNAME$ \n               password =  $YOUR_PASSWORD$ \n            }\n        }\n        // Repository will be provided separately \n     }\n     // ...\n     dependencies {\n        // ... other project dependencies\n        compile ( co.locarta:locarta-sdk:$LOCARTA_SDK_VERSION$:pubProd@aar ) {\n            transitive = true;\n        }\n     }  Where  $YOUR_USERNAME$  and  $YOUR_PASSWORD$  are the credentials to the nexus repository. They match with the credentials you got to get access to this documentation .  $LOCARTA_SDK_VERSION$  is the SDK version number you wish to use.\nSync  build.gradle , rebuild your project and import  co.locarta.sdk.LocartaSDK  into your app.  We advise to use  https  in the repository url (e.g. `https://nexus.locarta.co/..., we intentinally keep http to avoid certain problems with specific java versions.)", 
            "title": "1) Declare dependencies"
        }, 
        {
            "location": "/#2-set-publisher-key", 
            "text": "Add a  meta-data  tag to the  AndroidManifest.xml  of your project:       application \n         !-- other content -- \n         meta-data \n               android:name= co.locarta.sdk.pid  \n               android:value= YOUR_PUBLISHER_ID  /         \n     /application   where  YOUR_PUBLISHER_ID  is your Locarta publisher id.", 
            "title": "2) Set Publisher Key"
        }, 
        {
            "location": "/#3-initialise-sdk-on-app-start", 
            "text": "You need to initialise the Locarta SDK only once \u2013 on app start:      // Add this line to the header of your file\n    import co.locarta.sdk.LocartaSdk;\n    public class SdkDemoApplication extends Application {\n        @Override\n        public void onCreate() {\n            super.onCreate();\n            // Initialise SDK on App creation\n            LocartaSdk.initialize(getApplicationContext());\n        }\n    }", 
            "title": "3) Initialise SDK on App Start"
        }, 
        {
            "location": "/#4-obtain-user-opt-in", 
            "text": "User must opt in to Locarta's market research programme for the SDK to start working. This can be done either:  a) Via the default Locarta agreement dialog:      // Put this code somewhere in the main activities\n    LocartaSdk.showAgreementDialog(this);  b) Via an API call (if your application has own agreement dialog or compliant terms and conditions):      LocartaSDK.setTermsAccepted(true);  If you want to check whether the user has opted in, call:      // The call returns true or false if user accepted terms or not\n    LocartaSDK.getTermsAccepted();          If you want to stop SDK for some reason:     LocartaSdk.stop(context);", 
            "title": "4) Obtain User Opt-In"
        }, 
        {
            "location": "/#integration-information", 
            "text": "By default the host app  should not  be setting any additional permissions in its manifest.  The set of minimal permissions embedded in the Locarta SDK is:     Permission Name  Plain English Name in App  Plain German Name in App      android.permission.INTERNET  Full Network Access  Zugriff auf alle Netzwerke    android.permission.ACCESS_COARSE_LOCATION  Approximate Location  Ungef\u00e4hrer Standort    android.permission.ACCESS_FINE_LOCATION  Precise Location  Genauer Standort    android.permission.ACCESS_NETWORK_STATE  View Network Connections  Netzwerkverbindungen abrufen    android.permission.ACCESS_WIFI_STATE  View Wifi Connections  WLAN-Verbindungen abrufen", 
            "title": "Integration Information"
        }, 
        {
            "location": "/#proguard", 
            "text": "Proguard rules are already configured for the Locarta SDK. No additional steps need to be taken in your application.", 
            "title": "Proguard"
        }, 
        {
            "location": "/#performance-impact", 
            "text": "We expect a battery impact of roughly 2-3%.  Normally we use about 1MB/week of mobile data (depending on how long the phone is connected to wifi).", 
            "title": "Performance Impact"
        }, 
        {
            "location": "/#3rd-party-dependencies", 
            "text": "The Locarta SDK should be implemented as a transitive @aar dependency. These are the 3rd-party dependencies it uses:     Dependency  Version      com.google.android.gms:play-services-location  9.4.0    com.google.android.gms:play-services-gcm  9.4.0    com.google.code.gson:gson  2.7    com.squareup.retrofit2:retrofit  2.1.0    com.squareup.retrofit2:converter-gson  2.1.0    de.greenrobot:eventbus  3.0.0    com.google.dagger:dagger  2.0    ch.hsr:geohash  1.0.13    com.google.protobuf  3.0.0-beta-3    org.apache.commons:commons-io  1.3.2    io.protostuff:protostuff-json  1.3.5", 
            "title": "3rd-Party Dependencies"
        }, 
        {
            "location": "/#troubleshooting", 
            "text": "", 
            "title": "Troubleshooting"
        }, 
        {
            "location": "/#proguard_1", 
            "text": "If you see the message:  Can't find referenced class from the SDK , add these lines to your proguard configuration:   -dontwarn co.pointwise.proto.JournalProto$.**\n-dontwarn com.google.common.base.Function\n-dontwarn com.google.common.collect.Lists", 
            "title": "Proguard"
        }, 
        {
            "location": "/#downgrading-min-sdk-version-to-api-v7", 
            "text": "Technically the minimum API version for the SDK is already v7. However, it depends on Google Play Services, which requires minimum API v9.   If you get an error saying:   Manifest merger failed : uses-sdk:minSdkVersion 7 cannot be smaller than version 9 declared in library [com.google.android.gms:play-services-location:9.4.0] Suggestion: use tools:overrideLibrary= com.google.android.gms  to force usage  Then add this line to the manifest of your application:   uses-sdk tools:overrideLibrary= com.google.android.gms, com.google.android.gms.base, com.google.android.gms.tasks, com.google.android.gms.gcm, com.google.android.gms.iid /", 
            "title": "Downgrading min SDK version to API v7"
        }
    ]
}